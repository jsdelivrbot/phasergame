<!DOCTYPE html>
<html>
	<head>
		<title>phaser game</title>
		<script src="js/lib/jquery.js" type="text/javascript"></script>
		<script src="js/lib/foundation.min.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="css/foundation.min.css">

		<!-- game lib -->
		<script src="js/lib/knockout.js" type="text/javascript"></script>
		<script src="js/lib/knockout-mapping.js" type="text/javascript"></script>
		<script src="js/lib/phaser.min.js" type="text/javascript"></script>
		<script src="js/lib/socket.io.js" type="text/javascript"></script>
		<script src="js/lib/klass.js" type="text/javascript"></script>

		<!-- functions -->
		<script src="js/objs/preload.js" type="text/javascript"></script>

		<!-- objs -->
		<script src="js/objs/functions.js" type="text/javascript"></script>
		<script src="js/objs/game.js" type="text/javascript"></script>
		<script src="js/objs/server.js" type="text/javascript"></script>
		<script src="js/objs/player.js" type="text/javascript"></script>
		<script src="js/objs/players.js" type="text/javascript"></script>

		<script src="js/objs/interfaceClasses.js" type="text/javascript"></script>
		<script src="js/objs/interface.js" type="text/javascript"></script>

		<!-- main -->
		<script src="js/main.js" type="text/javascript"></script>

		<link rel="stylesheet" type="text/css" href="css/style.css">

		<!-- templates -->
		<script id="input" type="text/html">
			<label data-bind="text: settings.title"></label>
			<input data-bind="attr:{id: id, type: settings.type}, value: value">
		</script>
		
		<script id="button" type="text/html">
			<a href="#" class="button" data-bind="attr:{id: id}, text: settings.title, click: settings.click"></a>
		</script>

		<script id="module" type="text/html">
			<div class="reveal-modal tiny" data-reveal data-bind="attr:{id: id}">
			  	<h2 data-bind="text: settings.title"></h2>
			  	<div class="row" data-bind="foreach: settings.contents">
					<div data-bind="template:{name: template}"></div>
			  	</div>
			  	<div class="row" data-bind="foreach: settings.buttons">
					<div data-bind="template:{name: template}"></div>
			  	</div>
			</div>
		</script>
	</head>
	<body>
		<div id="game">
			<div id="ui">
				<div id="loading-overlay">
					<div class="progress" id="loading-bar">
					  	<span class="meter"></span>
					</div>
				</div>

				<div data-bind="foreach: modules">
					<div data-bind="template:{name: template}"></div>
				</div>

				<!-- <div id="connect" class="reveal-modal tiny" data-reveal>
				  	<form class="no-action">
					  	<div class="row">
					  	 	<div class="large-12 columns">
					  	 	  	<label>Server Ip
					  	 	  	  	<input type="text" placeholder="127.0.0.1:8181" />
					  	 	  	</label>
					  	 	</div>
					  	</div>
					  	<div class="row">
				  	 	  	<a type="submit" href="#" class="button tiny right">Connect</a>
					  	</div>
					</form>
				</div> -->
				
			</div>
		</div>

		<div id="chat" class="panel large-4">

	  		<div id="chat-in-messages" data-bind="foreach: chat.activeChanel.messages">
	  			<div class="chat-message"><h5 data-bind="text: player" style="display: inline;"></h5>: <p data-bind="text: message" style="display: inline;"></p></div>
	  		</div>
	  		
			<div class="off-canvas-wrap" data-offcanvas style="height: 100%;">
			  	<div class="inner-wrap" style="height: 100%;">

			  	 	<nav class="tab-bar">
				      	<section class="left-small">
				      	  	<a class="left-off-canvas-toggle menu-icon" href="#"><span></span></a>
				      	</section>

				      	<section class="middle tab-bar-section">
				      	  	<h1 class="title">Chat: <span data-bind="text: chat.activeChanel.title"></span></h1>
				      	</section>

				      	<section class="right-small">
				      	  	<a class="right-off-canvas-toggle menu-icon" href="#"><span></span></a>
				      	</section>
				    </nav>

			  	 	<!-- Off Canvas Menu -->
			  	 	<nav class="left-off-canvas-menu">
					  	<ul class="off-canvas-list">
					  	  	<li>
						  	  	<label>Chanels</label> 
					  	  	</li>
					  	  	<div id="chat-chanels" data-bind="foreach: chat.chanels">
					  	  		<li><a href="#" data-bind="text: title, attr:{'data-id': id}"></a></li>
					  	  	</div>
					  	  	<li>
							    <div class="large-12 columns" style="padding: 0px;">
							      	<div class="row collapse">
							      	  	<div class="small-8 columns">
							      	  	  	<input id="chat-new-title" type="text" placeholder="Title">
							      	  	</div>
							      	  	<div class="small-4 columns">
							      	  	  	<a id="chat-new" href="#" class="button postfix" data-bind="click: chat.create">Create</a>
							      	  	</div>
							      	</div>
							    </div>
					  	  	</li>
					  	</ul>
					</nav>

			  	 	<nav class="right-off-canvas-menu">
					  	<ul class="off-canvas-list">
					        <li class="has-submenu">
					        	<a href="#">Actions</a>
					            <ul class="right-submenu">
					                <li class="back"><a href="#">Back</a></li>
					                <li data-bind="visible: chat.activeChanel.canLeave == true && chat.activeChanel.own == false"><a href="#" data-bind="click: chat.leave">Leave</a></li>
							  	  	<li data-bind="visible: chat.activeChanel.own">
									    <div class="large-12 columns" style="padding: 0px;">
									      	<div class="row collapse">
									      	  	<div class="small-8 columns">
									      	  	  	<input id="chat-invite-name" type="text" placeholder="Title">
									      	  	</div>
									      	  	<div class="small-4 columns">
									      	  	  	<a href="#" class="button postfix" data-bind="click: chat.invite">Invite</a>
									      	  	</div>
									      	</div>
									    </div>
							  	  	</li>
					                <li data-bind="visible: chat.activeChanel.own"><a href="#" data-bind="click: chat.close">Close</a></li>
					            </ul>
					        </li>
					  	</ul>
					  	<ul class="off-canvas-list">
					  	  	<li><label>Players</label></li>
					  	  	<div id="chat-players" data-bind="foreach: chat.activeChanel.players">
					  	  		<li><a href="#" data-bind="text: name"></a></li>
					  	  	</div>
					  	</ul>
					</nav>

			  	 	<div>
			  	 		<div id="chat-messages" class="content" data-bind="foreach: chat.activeChanel.messages">
						  	<div class="chat-message"><h5 data-bind="text: player" style="display: inline;"></h5>: <p data-bind="text: message" style="display: inline;"></p></div>
					  	</div>

						<form id="chat-send" class="no-action">
							<input id="chat-message" type="text" style="width: 100%;" maxlength="100">
						</form>
			  	 	</div>

			  		<!-- close the off-canvas menu -->
			  		<a class="exit-off-canvas"></a>
			  	</div>
			</div>
		</div>
	</body>
</html>